<!DOCTYPE html>

<html lang="zh-CN" data-theme="light">


<head>
    <meta charset="UTF-8">
    <!-- ç§»åŠ¨ç«¯è§†å£è®¾ç½®ï¼Œè®©é¡µé¢æŒ‰è®¾å¤‡å®½åº¦æ¸²æŸ“ï¼Œåˆå§‹ç¼©æ”¾ 1 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- æµè§ˆå™¨æ ‡ç­¾é¡µæ ‡é¢˜/æ”¶è—å¤¹åç§°/æœç´¢ç»“æœæ ‡é¢˜ -->
    <title>Nadir' Homepage</title>

    <!-- è¯·æ±‚æœåŠ¡ç«¯æœ¬åœ°ä¸‹è½½å¥½çš„ Pico.css å’Œ Vue cdn -->
    <!-- æ–‡ä»¶çš„ä¼ è¾“äº¤ç»™nginxï¼Œé…ç½®é‡Œæœ‰é…ç½®çš„é€šé…è·¯ç”± â€œ/â€ -->
    <link rel="stylesheet" href="./assets/pico.min.css">
    <script src="assets/vue.global.js"></script>
    <!-- ä¸ªäººcssæ ·å¼å³jsè„šæœ¬ -->
    <!-- deferå»¶æ—¶æ‰§è¡Œï¼šåå°ä¸‹è½½è„šæœ¬, ç­‰æ•´ä¸ªé¡µé¢ï¼ˆDOMï¼‰éƒ½è§£æå¥½äº†å†è¿è¡Œ -->
    <link rel="stylesheet" href="style.css">
    <script src="vue.js" defer></script>

</head>


<body>

    <!-- ä»¥appä½œä¸ºæŒ‚è½½ç‚¹ï¼ŒVue.js è¿è¡Œåä¼šæ‰¾åˆ°è¿™ä¸ªidï¼Œè§£æ div çš„æ‰€æœ‰å†…å®¹ã€‚ -->
    <div id="app" class="container" v-cloak>

        <!-- navå¯¼èˆªæ ï¼šç»˜åˆ¶é¡¶éƒ¨çš„ Tab åˆ‡æ¢æŒ‰é’® -->
        <nav class="nav-tabs">
            <!-- :class= : Vue ç‰¹æœ‰å±æ€§ï¼ˆæŒ‡ä»¤ï¼‰ã€‚è¡¨ç¤ºå¦‚æœ currentTab == "home" (currentTab ç”± vue è„šæœ¬ç›‘å¬å¹¶ä¿®æ”¹)ï¼Œåˆ™åœ¨åŸæœ¬ class = nav-item çš„åŸºç¡€ä¸Šå¤šåŠ ä¸€ä¸ª active ç±» -->
            <!-- @click= ï¼šä¹Ÿæ˜¯ Vue ç‰¹æœ‰å±æ€§ï¼ˆäº‹ä»¶ï¼‰ï¼Œæ„æ€æ˜¯å½“ç”¨æˆ·ç”¨é¼ æ ‡ç‚¹å‡»è¿™é‡Œæ—¶ï¼Œæ‰§è¡Œ switchTab('home') è¿™æ®µä»£ç ï¼ŒswitchTabæ˜¯vueè„šæœ¬é‡Œå®šä¹‰çš„å‡½æ•° -->
            <div class="nav-item" :class="{ active: currentTab === 'home' }" @click="switchTab('home')">
                ğŸ  ä¸»é¡µ
            </div>
            <div class="nav-item" :class="{ active: currentTab === 'status' }" @click="switchTab('status')">
                âš¡ ç›‘æ§
            </div>
            <div class="nav-item" :class="{ active: currentTab === 'tools' }" @click="switchTab('tools')">
                ğŸ› ï¸ å·¥å…·
            </div>
        </nav>

        <!-- homeé¡µæ¸²æŸ“ -->
        <div v-if="currentTab === 'home'" class="white-card">

            <!-- å…ˆæ¸²æŸ“ name å’Œ roleï¼Œå¹¶æå‰æ˜¾ç¤ºLoading... -->
            <hgroup style="text-align: center; margin-bottom: 30px;">
                <h1>{{ profile ? profile.name : 'Loading...' }}</h1>
                <p>{{ profile ? profile.role : 'Reading profile.json...' }}</p>
            </hgroup>

            <!-- æ¸²æŸ“ profile é‡Œçš„å…¶ä»–å†…å®¹ï¼ˆprofile æ˜¯ vue.js çš„ return å¯¹è±¡ä¹‹ä¸€ï¼‰ -->
            <div v-if="profile">
                <div>
                    <strong>æŠ€èƒ½æ ˆ:</strong>
                    <!-- å¾ªç¯æ¸²æŸ“ skill åˆ—è¡¨ -->
                    <span v-for="skill in profile.skills" :key="skill" role="button" class="outline"
                        style="margin-right: 8px; font-size: 0.8rem; padding: 4px 10px;">
                        {{ skill }}
                    </span>
                </div>
                <!-- å¤šåŠ ä¸€ä¸ª butten -->
                <!-- æœ‰ href å°±èƒ½å®ç°ç‚¹å‡»è·³è½¬ -->
                <!-- target="_blank"ï¼šæ–°æ ‡ç­¾é¡µæ‰“å¼€ï¼Œrel="noopener noreferrer"ï¼šå®‰å…¨å±æ€§ï¼Œé˜²æ­¢æ–°é¡µé¢è·å–åˆ°åŸé¡µé¢çš„ window å¯¹è±¡ï¼ˆé¿å…å®‰å…¨é£é™©ï¼‰ -->
                <a v-if="profile.github_url" :href="profile.github_url" target="_blank" rel="noopener noreferrer"
                    role="button" class="contrast" style="margin-top: 20px; display: inline-block;"> ğŸ““ Personal GitHub
                    Page
                </a>
            </div>

            <!-- åŠ è½½ä¸­æ ‡ç­¾  -->
            <div v-else style="text-align: center; color: #999;">
                <p aria-busy="true">æ­£åœ¨è¿æ¥ä¸ªäººæ•°æ®...</p>
            </div>

            <!-- åç«¯ä¿¡æ¯å¡ç‰‡ -->
            <section class="backend-card">

                <p v-if="backendLoading" aria-busy="true">æ­£åœ¨æ£€æµ‹åç«¯è¿é€šæ€§...</p>

                <div class="backend-card-header">
                    <h4>åç«¯çŠ¶æ€</h4>
                    <span v-if="backendLoading" class="backend-status-pill checking">Checking...</span>
                    <span v-else-if="backendHealth && backendHealth.ok"
                        class="backend-status-pill online">Connected</span>
                    <span v-else class="backend-status-pill offline">Offline</span>
                </div>

                <div v-if="backendHealth && backendHealth.ok">

                    <p class="backend-meta">
                        Service: {{ backendHealth.service }}<br>
                        Updated: {{ backendHealth.timestamp || 'N/A' }}
                    </p>

                    <p><strong>{{ backendProfile ? backendProfile.name : 'Backend Profile' }}</strong></p>
                    <p>{{ backendProfile ? backendProfile.role : '' }}</p>

                    <div v-if="backendProfile && backendProfile.skills.length" class="backend-skill-list">
                        <span v-for="skill in backendProfile.skills" :key="`backend-${skill}`"
                            class="backend-skill-item">
                            {{ skill }}
                        </span>
                    </div>
                </div>

                <div v-else>
                    <p>åç«¯æœªè¿æ¥ï¼š{{ backendError || 'Cannot connect to backend service.' }}</p>
                </div>

                <button @click="fetchBackendHealth" class="secondary outline backend-refresh-btn">
                    é‡æ–°æ£€æµ‹åç«¯
                </button>

            </section>

        </div>


        <div v-if="currentTab === 'status'" class="white-card">
            <h3 style="border-bottom: 1px solid #eee; padding-bottom: 10px;">Server Status</h3>

            <!-- å¦‚æœsystemStatus()æœ‰è¿”å›å€¼åˆ™æ˜¾ç¤º -->
            <div v-if="systemStatus" class="stats-grid">

                <div class="stat-box">
                    <div class="stat-label">CPU Load</div>
                    <div class="stat-value" :style="{ color: getLoadColor(systemStatus.cpu_percent) }">
                        {{ systemStatus.cpu_percent }}%
                    </div>
                </div>

                <div class="stat-box">
                    <div class="stat-label">RAM Usage</div>
                    <div class="stat-value">
                        {{ systemStatus.ram_percent }}%
                    </div>
                    <small>{{ systemStatus.ram_used }} / {{ systemStatus.ram_total }}</small>
                </div>

                <div class="stat-box">
                    <div class="stat-label">Temperature</div>
                    <div class="stat-value">{{ systemStatus.temperature }}</div>
                </div>

                <div class="stat-box">
                    <div class="stat-label">Uptime</div>
                    <div class="stat-value" style="font-size: 1.2rem;">{{ systemStatus.uptime }}</div>
                </div>

            </div>

            <div v-else style="text-align: center; padding: 40px;">
                <p v-if="statusError">{{ statusError }}</p>
                <p v-else aria-busy="true">æ­£åœ¨è¯»å–ç¡¬ä»¶ä¼ æ„Ÿå™¨...</p>
            </div>

            <button @click="fetchStatus" class="secondary outline" style="margin-top: 20px; width: 100%;">
                åˆ·æ–°æ•°æ®
            </button>

        </div>

        <div v-if="currentTab === 'tools'" class="white-card">
            <h3>My Tools</h3>
            <div class="grid">
                <a href="/data/apps/player/" class="tool-link">ğŸµ æ’­æ”¾å™¨</a>
                <a href="/data/apps/game/" class="tool-link">ğŸ® ç½‘é¡µæ¸¸æˆ</a>
                <a href="/files/" class="tool-link">ğŸ“‚ æ–‡ä»¶ç®¡ç†</a>
                <a href="/entertainment/" class="tool-link">ğŸ­ ä¸ªäººå¨±ä¹ä¸»é¡µï¼ˆå»ºè®¾ä¸­ï¼‰</a>
            </div>
        </div>

    </div>

</body>

</html>